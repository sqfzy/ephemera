❯ RUST_LOG=trace sudo -E /home/sqfzy/.cargo/bin/cargo nextest run --no-capture test_xdp_multiple_conn
   Compiling libxdp-sys v0.2.1+1.4.3 (/home/sqfzy/work_space/work_code/rust/ephemera/vendor/libxdp-sys)
   Compiling xsk-rs v0.7.0 (/home/sqfzy/work_space/work_code/rust/ephemera/vendor/xsk-rs)
   Compiling ephemera v0.1.0 (/home/sqfzy/work_space/work_code/rust/ephemera)
warning: unused imports: `time::Duration` and `wire::IPV4_HEADER_LEN`
 --> src/af_xdp/stream.rs:7:5
  |
7 |     time::Duration,
  |     ^^^^^^^^^^^^^^
8 |     wire::IPV4_HEADER_LEN,
  |     ^^^^^^^^^^^^^^^^^^^^^
  |
  = note: `#[warn(unused_imports)]` on by default

warning: unused import: `PollResult`
 --> src/af_xdp/reactor.rs:2:24
  |
2 |     iface::{Interface, PollResult, SocketSet},
  |                        ^^^^^^^^^^

warning: `ephemera` (lib) generated 2 warnings (run `cargo fix --lib -p ephemera` to apply 2 suggestions)
warning: unused variable: `config`
  --> src/main.rs:12:9
   |
12 |     let config = EphemaraConfig::load().expect("Failed to load config");
   |         ^^^^^^ help: if this is intentional, prefix it with an underscore: `_config`
   |
   = note: `#[warn(unused_variables)]` on by default

warning: `ephemera` (bin "ephemera" test) generated 1 warning
warning: `ephemera` (lib test) generated 2 warnings (2 duplicates)
warning: `ephemera` (bin "ephemera") generated 1 warning (1 duplicate)
    Finished `test` profile [unoptimized + debuginfo] target(s) in 2.08s
────────────
 Nextest run ID ba6cec5c-5c45-4cd1-b8d1-7207b4dc1e1e with nextest profile: default
    Starting 1 test across 3 binaries (3 tests skipped)
       START             ephemera::xdp_device_test test_xdp_multiple_connect

running 1 test
libxdp: No bpffs found at /sys/fs/bpf
2025-08-04T10:25:06.219237Z TRACE smoltcp::socket::tcp: state=CLOSED=>LISTEN    
2025-08-04T10:25:06.219280Z TRACE smoltcp::iface::socket_set: [0]: adding    
debug5
debug3
2025-08-04T10:25:06.307775Z TRACE smoltcp::socket::tcp: state=CLOSED=>SYN-SENT    
2025-08-04T10:25:06.307829Z TRACE smoltcp::iface::socket_set: [0]: adding    
2025-08-04T10:25:06.307857Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.307864Z TRACE smoltcp::socket::tcp: sending SYN    
2025-08-04T10:25:06.307892Z DEBUG smoltcp::iface::interface: address 192.168.10.1 not in neighbor cache, sending ARP request    
2025-08-04T10:25:06.307918Z TRACE ephemera::af_xdp::device: xdp send: "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
2025-08-04T10:25:06.307943Z TRACE smoltcp::iface::socket_meta: #0: neighbor 192.168.10.1 missing, silencing until t+1.000s    
2025-08-04T10:25:06.308027Z TRACE ephemera::af_xdp::device: xdp recv: "���������\u{e}v\u{1}\u{8}\u{6}\0\u{1}\u{8}\0\u{6}\u{4}\0\u{1}���\u{e}v\u{1}��\n\u{2}��������\n\u{1}"
2025-08-04T10:25:06.308079Z TRACE smoltcp::iface::neighbor: filled 192.168.10.2 => ea-d8-f6-0e-76-01 (was empty)    
2025-08-04T10:25:06.308095Z TRACE ephemera::af_xdp::device: xdp send: "\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
2025-08-04T10:25:06.308141Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\u{6}\0\u{1}\u{8}\0\u{6}\u{4}\0\u{2}*+r�����\n\u{1}���\u{e}v\u{1}��\n\u{2}"
2025-08-04T10:25:06.308177Z TRACE smoltcp::iface::neighbor: filled 192.168.10.1 => 2a-2b-72-fb-e8-cc (was empty)    
2025-08-04T10:25:06.308199Z TRACE smoltcp::iface::socket_meta: #0: neighbor 192.168.10.1 discovered, unsilencing    
2025-08-04T10:25:06.308213Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.308217Z TRACE smoltcp::socket::tcp: sending SYN    
2025-08-04T10:25:06.308225Z TRACE ephemera::af_xdp::device: xdp send: "���������\u{e}v\u{1}\u{8}\u{6}\0\u{1}\u{8}\0\u{6}\u{4}\0\u{1}���\u{e}v\u{1}��\n\u{2}��������\n\u{1}\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
2025-08-04T10:25:06.308255Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(2000063569)    
2025-08-04T10:25:06.308440Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}<�\u{1}�w6�P\0\0\0\0�\u{2}\u{10}\0�\u{c}\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.308508Z TRACE smoltcp::socket::tcp: received SYN    
2025-08-04T10:25:06.308519Z TRACE smoltcp::socket::tcp: state=LISTEN=>SYN-RECEIVED    
2025-08-04T10:25:06.308526Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.308530Z TRACE smoltcp::socket::tcp: sending SYN|ACK    
2025-08-04T10:25:06.308538Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\u{6}\0\u{1}\u{8}\0\u{6}\u{4}\0\u{2}*+r�����\n\u{1}���\u{e}v\u{1}��\n\u{2}\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"
2025-08-04T10:25:06.308575Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(2000063569)    
2025-08-04T10:25:06.308622Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�<�w6�Pw6�Q�\u{12}\u{10}\0�t\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.308660Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=263 dev=141 rto=827    
2025-08-04T10:25:06.308668Z TRACE smoltcp::socket::tcp: received SYN|ACK    
2025-08-04T10:25:06.308968Z TRACE smoltcp::socket::tcp: state=SYN-SENT=>ESTABLISHED    
2025-08-04T10:25:06.308986Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.308991Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.309000Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}<�\u{1}�w6�P\0\0\0\0�\u{2}\u{10}\0�\u{c}\0\0"
debug4
Client 6 debug0
debug7
2025-08-04T10:25:06.309047Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Qw6�QP\u{10}\u{10}\0�2\0\0"
2025-08-04T10:25:06.309055Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>FIN-WAIT-1    
2025-08-04T10:25:06.309068Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.309073Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.309073Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=263 dev=141 rto=827    
2025-08-04T10:25:06.309078Z TRACE smoltcp::socket::tcp: state=SYN-RECEIVED=>ESTABLISHED    
2025-08-04T10:25:06.309080Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Qw6�QP\u{10}\u{10}\0�2\0\0"
2025-08-04T10:25:06.309093Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(2000063570)    
2025-08-04T10:25:06.309093Z TRACE smoltcp::socket::tcp: state=CLOSED=>LISTEN    
2025-08-04T10:25:06.309156Z TRACE smoltcp::iface::socket_set: [1]: adding    
debug6
debug1
debug7
2025-08-04T10:25:06.309169Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>FIN-WAIT-1    
2025-08-04T10:25:06.309184Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Qw6�QP\u{11}\u{10}\0�1\0\0"
2025-08-04T10:25:06.309203Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-1=>CLOSING    
2025-08-04T10:25:06.309209Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.309213Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.309220Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�<�w6�Pw6�Q�\u{12}\u{10}\0�t\0\0"
2025-08-04T10:25:06.309237Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(2000063570)    
2025-08-04T10:25:06.309273Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�<�w6�Qw6�RP\u{11}\u{10}\0�0\0\0"
2025-08-04T10:25:06.309312Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:06.309319Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=231 dev=164 rto=887    
2025-08-04T10:25:06.309323Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-1=>TIME-WAIT    
2025-08-04T10:25:06.309332Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.309337Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.309344Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Qw6�QP\u{11}\u{10}\0�1\0\0"
debug8
debug3
Client 6 finished
2025-08-04T10:25:06.309463Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Rw6�RP\u{10}\u{10}\0�0\0\0"
2025-08-04T10:25:06.309543Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:06.309553Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=231 dev=164 rto=887    
2025-08-04T10:25:06.309557Z TRACE smoltcp::socket::tcp: state=CLOSING=>TIME-WAIT    
debug8
debug5
2025-08-04T10:25:06.354458Z TRACE smoltcp::socket::tcp: state=CLOSED=>SYN-SENT    
2025-08-04T10:25:06.354510Z TRACE smoltcp::iface::socket_set: [1]: adding    
2025-08-04T10:25:06.354554Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.354574Z TRACE smoltcp::socket::tcp: sending SYN    
2025-08-04T10:25:06.354604Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<�\u{1}�w6�Rw6�RP\u{10}\u{10}\0�0\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.354637Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1043035875)    
2025-08-04T10:25:06.354765Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}Ln\u{1}�>+v�\0\0\0\0�\u{2}\u{10}\0ʚ\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.354820Z TRACE smoltcp::socket::tcp: received SYN    
2025-08-04T10:25:06.354827Z TRACE smoltcp::socket::tcp: state=LISTEN=>SYN-RECEIVED    
2025-08-04T10:25:06.354835Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.354850Z TRACE smoltcp::socket::tcp: sending SYN|ACK    
2025-08-04T10:25:06.354862Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�<�w6�Qw6�RP\u{11}\u{10}\0�0\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.354895Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1043035875)    
2025-08-04T10:25:06.354942Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�\u{12}\u{10}\0\u{15}|\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.354978Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=263 dev=141 rto=827    
2025-08-04T10:25:06.355000Z TRACE smoltcp::socket::tcp: received SYN|ACK    
2025-08-04T10:25:06.355007Z TRACE smoltcp::socket::tcp: state=SYN-SENT=>ESTABLISHED    
2025-08-04T10:25:06.355029Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.355049Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.355061Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}Ln\u{1}�>+v�\0\0\0\0�\u{2}\u{10}\0ʚ\0\0"
debug4
Client 0 debug0
debug7
2025-08-04T10:25:06.355122Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>FIN-WAIT-1    
2025-08-04T10:25:06.355142Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.355147Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.355154Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{10}\u{10}\0R:\0\0"
2025-08-04T10:25:06.355167Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1043035876)    
2025-08-04T10:25:06.355177Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{10}\u{10}\0R:\0\0"
2025-08-04T10:25:06.355217Z TRACE smoltcp::socket::tcp: rtte: sample=45 rtt=269 dev=131 rto=793    
2025-08-04T10:25:06.355223Z TRACE smoltcp::socket::tcp: state=SYN-RECEIVED=>ESTABLISHED    
2025-08-04T10:25:06.355228Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{11}\u{10}\0R9\0\0"
2025-08-04T10:25:06.355263Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>CLOSE-WAIT    
2025-08-04T10:25:06.355301Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.355321Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.355343Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�\u{12}\u{10}\0\u{15}|\0\0"
2025-08-04T10:25:06.355403Z TRACE smoltcp::socket::tcp: state=CLOSED=>LISTEN    
2025-08-04T10:25:06.355418Z TRACE smoltcp::iface::socket_set: [2]: adding    
debug6
debug1
debug7
2025-08-04T10:25:06.355424Z TRACE smoltcp::socket::tcp: state=CLOSE-WAIT=>LAST-ACK    
2025-08-04T10:25:06.355415Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�P\u{10}\u{10}\0R9\0\0"
2025-08-04T10:25:06.355434Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.355445Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:06.355471Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.355527Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=231 dev=164 rto=887    
2025-08-04T10:25:06.355562Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�P\u{10}\u{10}\0R9\0\0"
2025-08-04T10:25:06.355572Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-1=>FIN-WAIT-2    
2025-08-04T10:25:06.355583Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1043035876)    
2025-08-04T10:25:06.355602Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�P\u{11}\u{10}\0R8\0\0"
2025-08-04T10:25:06.355632Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-2=>TIME-WAIT    
2025-08-04T10:25:06.355644Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.355648Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.355654Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{11}\u{10}\0R9\0\0"
debug8
Client 0 finished
2025-08-04T10:25:06.355690Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{10}\u{10}\0R8\0\0"
2025-08-04T10:25:06.355710Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:06.355716Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=236 dev=158 rto=868    
2025-08-04T10:25:06.355735Z TRACE smoltcp::socket::tcp: state=LAST-ACK=>CLOSED    
debug8
debug5
debug3
2025-08-04T10:25:06.402696Z TRACE smoltcp::socket::tcp: state=CLOSED=>SYN-SENT    
2025-08-04T10:25:06.402739Z TRACE smoltcp::iface::socket_set: [2]: adding    
2025-08-04T10:25:06.402781Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.402807Z TRACE smoltcp::socket::tcp: sending SYN    
2025-08-04T10:25:06.402836Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}Ln\u{1}�>+v�>+v�P\u{10}\u{10}\0R8\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.402876Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(-1322724916)    
2025-08-04T10:25:06.402937Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}O�\u{1}��(��\0\0\0\0�\u{2}\u{10}\0�I\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.402970Z TRACE smoltcp::socket::tcp: received SYN    
2025-08-04T10:25:06.402988Z TRACE smoltcp::socket::tcp: state=LISTEN=>SYN-RECEIVED    
2025-08-04T10:25:06.403018Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.403036Z TRACE smoltcp::socket::tcp: sending SYN|ACK    
2025-08-04T10:25:06.403066Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Ln>+v�>+v�P\u{11}\u{10}\0R8\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.403097Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(-1322724916)    
2025-08-04T10:25:06.403148Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�Oر(�˱(�\u{300}\u{12}\u{10}\0vD\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.403198Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=263 dev=141 rto=827    
2025-08-04T10:25:06.403204Z TRACE smoltcp::socket::tcp: received SYN|ACK    
2025-08-04T10:25:06.403207Z TRACE smoltcp::socket::tcp: state=SYN-SENT=>ESTABLISHED    
2025-08-04T10:25:06.403215Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.403232Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.403244Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}O�\u{1}��(��\0\0\0\0�\u{2}\u{10}\0�I\0\0"
debug4
Client 5 debug0
debug3
2025-08-04T10:25:06.403405Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}O�\u{1}��(�\u{331}(��P\u{10}\u{10}\0�\u{2}\0\0"
2025-08-04T10:25:06.403459Z TRACE smoltcp::socket::tcp: rtte: sample=47 rtt=269 dev=131 rto=793    
2025-08-04T10:25:06.403483Z TRACE smoltcp::socket::tcp: state=SYN-RECEIVED=>ESTABLISHED    
2025-08-04T10:25:06.403511Z TRACE smoltcp::socket::tcp: state=CLOSED=>LISTEN    
2025-08-04T10:25:06.403527Z TRACE smoltcp::iface::socket_set: [3]: adding    
debug6
debug1
debug7
2025-08-04T10:25:06.403534Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>FIN-WAIT-1    
2025-08-04T10:25:06.403543Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.403547Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.403568Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�Oر(�˱(�\u{300}\u{12}\u{10}\0vD\0\0"
2025-08-04T10:25:06.403598Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(-1322724915)    
2025-08-04T10:25:06.448390Z TRACE smoltcp::socket::tcp: state=CLOSED=>SYN-SENT    
2025-08-04T10:25:06.448456Z TRACE smoltcp::iface::socket_set: [3]: adding    
2025-08-04T10:25:06.448522Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Oر(�\u{331}(��P\u{11}\u{10}\0�\u{1}\0\0"
2025-08-04T10:25:06.448576Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>CLOSE-WAIT    
2025-08-04T10:25:06.448602Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.448609Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.448622Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}O�\u{1}��(�\u{331}(��P\u{10}\u{10}\0�\u{2}\0\0"
2025-08-04T10:25:06.448645Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.448664Z TRACE smoltcp::socket::tcp: sending SYN    
2025-08-04T10:25:06.448676Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}O�\u{1}��(�\u{331}(��P\u{10}\u{10}\0�\u{1}\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.448709Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1429721865)    
2025-08-04T10:25:06.448796Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\u{8}\0\0\0\0�\u{2}\u{10}\0g�\0\0"
2025-08-04T10:25:06.448837Z TRACE smoltcp::iface::interface::ethernet: iface: malformed Ipv4Packet::new_checked(eth_frame.payload())    
2025-08-04T10:25:06.448849Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\u{8}\0\0\0\0�\u{2}\u{10}\0g�\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.448873Z TRACE smoltcp::socket::tcp: received SYN    
2025-08-04T10:25:06.448878Z TRACE smoltcp::socket::tcp: state=LISTEN=>SYN-RECEIVED    
2025-08-04T10:25:06.448887Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.448906Z TRACE smoltcp::socket::tcp: sending SYN|ACK    
2025-08-04T10:25:06.448922Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Oر(�\u{331}(��P\u{11}\u{10}\0�\u{1}\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.448958Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1429721865)    
2025-08-04T10:25:06.449025Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�<\u{1a}U7�\u{8}U7�\t�\u{12}\u{10}\0?k\0\0\u{2}\u{4}\u{5}�\u{3}\u{3}\0\u{4}\u{2}\0\0\0"
2025-08-04T10:25:06.449095Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=263 dev=141 rto=827    
2025-08-04T10:25:06.449120Z TRACE smoltcp::socket::tcp: received SYN|ACK    
2025-08-04T10:25:06.449144Z TRACE smoltcp::socket::tcp: state=SYN-SENT=>ESTABLISHED    
2025-08-04T10:25:06.449174Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.449198Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.449226Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\u{8}\0\0\0\0�\u{2}\u{10}\0g�\0\0"
debug4
Client 9 debug0
2025-08-04T10:25:06.449289Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\tU7�\tP\u{10}\u{10}\0|)\0\0"
debug7
2025-08-04T10:25:06.449319Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>FIN-WAIT-1    
2025-08-04T10:25:06.449332Z TRACE smoltcp::socket::tcp: rtte: sample=45 rtt=269 dev=131 rto=793    
2025-08-04T10:25:06.449341Z TRACE smoltcp::socket::tcp: state=SYN-RECEIVED=>ESTABLISHED    
2025-08-04T10:25:06.449352Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:06.449376Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:06.449401Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\tU7�\tP\u{10}\u{10}\0|)\0\0"
2025-08-04T10:25:06.449436Z TRACE smoltcp::socket::tcp: rtte: sampling at seq=SeqNumber(1429721866)    
2025-08-04T10:25:06.449545Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\tU7�\tP\u{11}\u{10}\0|(\0\0"
2025-08-04T10:25:06.449585Z TRACE smoltcp::socket::tcp: state=ESTABLISHED=>CLOSE-WAIT    
2025-08-04T10:25:06.449596Z TRACE smoltcp::socket::tcp: outgoing segment will acknowledge    
2025-08-04T10:25:06.449602Z TRACE smoltcp::socket::tcp: sending ACK    
2025-08-04T10:25:06.449611Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\04\0\0@\0@\u{6}�p��\n\u{1}��\n\u{2}\u{1}�<\u{1a}U7�\u{8}U7�\t�\u{12}\u{10}\0?k\0\0"
2025-08-04T10:25:06.449758Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�<\u{1a}U7�\tU7�\nP\u{10}\u{10}\0|(\0\0"
2025-08-04T10:25:06.449820Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:06.449845Z TRACE smoltcp::socket::tcp: rtte: sample=0 rtt=231 dev=164 rto=887    
2025-08-04T10:25:06.449892Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-1=>FIN-WAIT-2    
2025-08-04T10:25:07.196810Z DEBUG smoltcp::socket::tcp: retransmitting at t+0.793s    
2025-08-04T10:25:07.196900Z TRACE smoltcp::socket::tcp: rtte: abort sampling due to retransmit    
2025-08-04T10:25:07.196916Z TRACE smoltcp::socket::tcp: outgoing segment will send data or flags    
2025-08-04T10:25:07.196927Z TRACE smoltcp::socket::tcp: sending FIN|ACK    
2025-08-04T10:25:07.196960Z TRACE ephemera::af_xdp::device: xdp send: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�<\u{1a}U7�\tU7�\nP\u{10}\u{10}\0|(\0\0"
2025-08-04T10:25:07.197207Z TRACE ephemera::af_xdp::device: xdp recv: "���\u{e}v\u{1}*+r���\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{1}��\n\u{2}\u{1}�Oر(�\u{331}(��P\u{11}\u{10}\0�\u{1}\0\0"
2025-08-04T10:25:07.197284Z DEBUG smoltcp::socket::tcp: received a keep-alive or window probe packet, will send an ACK    
2025-08-04T10:25:07.197348Z DEBUG smoltcp::socket::tcp: sending sACK option with current assembler ranges    
2025-08-04T10:25:07.197407Z TRACE ephemera::af_xdp::device: xdp send: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}<\u{1a}\u{1}�U7�\tU7�\tP\u{11}\u{10}\0|(\0\0"
2025-08-04T10:25:07.197523Z TRACE ephemera::af_xdp::device: xdp recv: "*+r������\u{e}v\u{1}\u{8}\0E\0\0(\0\0@\0@\u{6}�|��\n\u{2}��\n\u{1}O�\u{1}��(�\u{331}(��P\u{10}\u{10}\0�\u{1}\0\0"
2025-08-04T10:25:07.197595Z TRACE smoltcp::socket::tcp: received ACK of FIN    
2025-08-04T10:25:07.197605Z TRACE smoltcp::socket::tcp: state=FIN-WAIT-1=>FIN-WAIT-2    
  Cancelling due to interrupt: 1 test still running
      SIGINT [   1.934s] ephemera::xdp_device_test test_xdp_multiple_connect
────────────
     Summary [   1.934s] 1 test run: 0 passed, 1 failed, 3 skipped
error: test run failed

